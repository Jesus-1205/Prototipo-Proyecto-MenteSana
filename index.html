<!DOCTYPE html>
<html lang="es">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>MenteSana - IA de Apoyo Emocional</title>
    <script src="https://cdn.tailwindcss.com"></script>
    <link href='https://unpkg.com/boxicons@2.1.4/css/boxicons.min.css' rel='stylesheet'>
    <link rel="stylesheet" href="style.css">
</head>
<body class="light-mode">

    <div id="preloader">
        <div class="loader-logo-container">
            <div class="loader-circle"></div>
            <i class='bx bx-brain'></i>
        </div>
        <h2 class="mt-8 text-xl font-medium" style="color: var(--color-accent);">Analizando tu perfil emocional...</h2>
        <p class="text-sm text-gray-400 mt-2">Personalizando tu espacio de apoyo.</p>
    </div>

    <div id="onboardingOverlay" class="overlay-screen">
        <div class="form-card text-center">
            <i class='bx bxs-heart-circle text-6xl mb-4' style="color: var(--color-accent);"></i>
            <h2 class="text-2xl font-bold mb-2">Bienvenido a MenteSana</h2>
            <p class="text-sm text-gray-500 mb-8">Cuéntanos un poco sobre ti.</p>
            
            <form id="onboardingForm" class="text-left space-y-5">
                <div class="space-y-1">
                    <label class="text-xs font-semibold text-gray-400 ml-1 uppercase">Nombre</label>
                    <input type="text" id="userName" placeholder="¿Cómo te llamas?" class="w-full p-3 rounded-xl border border-[var(--color-border)] bg-[var(--color-bg)] outline-none focus:ring-2 ring-[var(--color-accent-soft)] transition" required>
                </div>
                <div class="grid grid-cols-2 gap-4">
                    <div class="space-y-1">
                        <label class="text-xs font-semibold text-gray-400 ml-1 uppercase">Edad</label>
                        <input type="number" id="userAge" placeholder="Edad" class="w-full p-3 rounded-xl border border-[var(--color-border)] bg-[var(--color-bg)] outline-none focus:ring-2 ring-[var(--color-accent-soft)] transition" required>
                    </div>
                    <div class="space-y-1">
                        <label class="text-xs font-semibold text-gray-400 ml-1 uppercase">Género</label>
                        <select id="userGender" class="w-full p-3 rounded-xl border border-[var(--color-border)] bg-[var(--color-bg)] outline-none">
                            <option value="Masculino">Masculino</option>
                            <option value="Femenino">Femenino</option>
                            <option value="Otro">Otro</option>
                        </select>
                    </div>
                </div>
                <button type="submit" class="w-full py-4 bg-[var(--color-accent)] text-white font-bold rounded-xl shadow-lg hover:brightness-110 transition active:scale-95">
                    Siguiente <i class='bx bx-right-arrow-alt'></i>
                </button>
            </form>
        </div>
    </div>

    <div id="quizOverlay" class="overlay-screen" style="display: none;">
        <div class="form-card">
            <div class="progress-bar-container">
                <div id="quizProgress" class="progress-bar-fill" style="width: 20%;"></div>
            </div>
            
            <div id="quizContent" class="text-center animate-fadeIn"></div>

            <div class="mt-8 flex gap-3">
                <button id="prevQuizBtn" class="flex-1 py-3 border border-[var(--color-border)] text-gray-500 rounded-xl font-semibold hidden">
                    Anterior
                </button>
                <button id="nextQuizBtn" class="flex-1 py-3 bg-[var(--color-accent)] text-white rounded-xl font-bold shadow-md">
                    Continuar
                </button>
            </div>
        </div>
    </div>

    <div class="sidebar" id="sidebar">
        <div class="toggle-btn" id="sidebarToggle">
            <i class='bx bx-chevron-left'></i>
        </div>

        <div class="brand">
            <i class='bx bx-brain'></i>
            <span>MenteSana</span>
        </div>

        <div class="menu-container flex-1">
            <ul class="menu space-y-2">
                <li class="menu-item active">
                    <a href="#" class="menu-link">
                        <i class='bx bx-home-alt-2'></i>
                        <span>Inicio</span>
                    </a>
                </li>
                <li class="menu-item menu-item-dropdown">
                    <a href="#" class="menu-link" id="resourcesToggle">
                        <i class='bx bx-book-heart'></i>
                        <span>Recursos</span>
                        <i class='bx bx-chevron-down ml-auto'></i>
                    </a>
                    <ul class="sub-menu">
                        <li><a href="#" class="sub-menu-item">Ansiedad</a></li>
                        <li><a href="#" class="sub-menu-item">Meditación</a></li>
                    </ul>
                </li>
                <li class="menu-item">
                    <a href="#" class="menu-link">
                        <i class='bx bx-history'></i>
                        <span>Historial</span>
                    </a>
                </li>
            </ul>
        </div>

        <div class="footer pt-6 border-t border-[var(--color-border)]">
            <div class="user-profile">
                <div class="w-11 h-11 rounded-full bg-[var(--color-accent-soft)] flex items-center justify-center text-white flex-shrink-0 shadow-sm">
                    <i class='bx bx-user text-xl'></i>
                </div>
                <div class="user-info truncate">
                    <p class="name font-bold text-sm" id="displayUserName">Usuario</p>
                    <p class="status text-[10px] text-green-500 font-medium">SESIÓN ACTIVA</p>
                </div>
            </div>
        </div>
    </div>

    <main>
        <header class="mobile-header">
            <i class='bx bx-menu text-2xl' id="mobileMenuBtn"></i>
            <span class="font-bold text-[var(--color-accent)]">MenteSana</span>
            <div class="w-8"></div>
        </header>

        <div id="chatMessages"></div>

        <div class="floating-btns fixed bottom-28 right-8 flex flex-col gap-4">
            <div class="w-14 h-14 rounded-full bg-red-400 text-white flex items-center justify-center shadow-xl cursor-pointer hover:scale-110 transition active:scale-95" title="Emergencia SOS">
                <i class='bx bx-phone-call text-2xl'></i>
            </div>
            <div id="themeToggle" class="w-14 h-14 rounded-full bg-[var(--color-surface)] text-[var(--color-text-secondary)] flex items-center justify-center shadow-xl cursor-pointer hover:scale-110 transition active:scale-95">
                <i class='bx bx-moon text-2xl'></i>
            </div>
        </div>

        <div class="input-container">
            <div class="max-w-4xl mx-auto flex gap-3 bg-[var(--color-bg)] p-3 rounded-2xl shadow-inner border border-[var(--color-border)]">
                <button class="w-10 h-10 flex items-center justify-center text-gray-400 hover:text-[var(--color-accent)]"><i class='bx bx-plus-circle text-xl'></i></button>
                <input type="text" id="userInput" class="flex-1 bg-transparent border-none outline-none px-2 text-sm" placeholder="Cuéntame, ¿qué tienes en mente?">
                <button id="sendBtn" class="sendButonActive w-12 h-10 bg-[var(--color-accent)] text-white rounded-xl flex items-center justify-center shadow-md hover:brightness-110 transition">
                    <i class='bx bxs-send text-xl'></i>
                    <i class='bx bx-microphone'></i>
                </button>
            </div>
        </div>
    </main>

    <script src="js/quizData.js"></script>
    <script src="js/main.js"></script>
</body>
</html>